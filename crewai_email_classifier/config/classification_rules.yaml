classifications:
  - name: Finance_Paid
    group: finance
    description: "Handle emails related to payments that have already been made and recorded."
    keywords:
      - paid
      - payment confirmed
      - remittance
      - cleared invoice
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Paid" if it refers to:
      - A confirmation that an invoice has been paid
      - Evidence of remittance or cleared payment
      - Payment acknowledgment or receipt

      Do NOT classify as Finance_Paid if:
      - The invoice is still unpaid or overdue
      - It’s a follow-up asking about unpaid status

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Paid  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Unpaid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Unpaid
    group: finance
    description: "Handle emails related to new invoices that are not yet overdue."
    keywords:
      - invoice
      - tax invoice
      - new invoice
      - payment due
      - due date
      - invoice attached
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Unpaid" if it refers to:
      - A newly issued invoice that has not yet passed its due date
      - An initial notice of payment (not a reminder or follow-up)

      DO NOT classify it as Finance_Unpaid if:
      - The due date has passed
      - The email says "overdue", "reminder", or "second notice"

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Unpaid  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Overdue
    group: finance
    description: "Handle emails about overdue invoices, payment reminders, or follow-ups on unpaid bills."
    keywords:
      - overdue
      - past due
      - reminder
      - second notice
      - urgent payment
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Overdue" if it refers to:
      - An overdue invoice or payment reminder
      - Second or final notices for unpaid invoices
      - Escalations regarding missed payment deadlines

      DO NOT classify as Finance_Overdue if:
      - The invoice is still within the payment term
      - It is a new invoice without overdue wording

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Overdue  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Unpaid, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Kinsta_Nise
    group: finance
    description: "Handle invoices or account-related emails from Kinsta or similar vendors managed by Nise."
    keywords:
      - kinsta
      - hosting invoice
      - website hosting
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Kinsta_Nise" if it refers to:
      - A hosting-related invoice or financial email from Kinsta
      - Items addressed to or managed by Nise

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Kinsta_Nise  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Unpaid, Finance_Paid, Internal_Work>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Synergy_Zanovar
    group: entity specific
    description: Handle invoices or financial matters specifically related to Synergy Zanovar.
    keywords: [synergy, zanovar, invoice]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Synergy_Zanovar" if it pertains to invoices, payment issues, or correspondence directed to or from Synergy Zanovar.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Synergy_Zanovar  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Synergy_Geidi
    group: entity specific
    description: Handle invoices or financial matters related to Synergy transactions for Geidi.
    keywords: [synergy, geidi, payable, ap]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Synergy_Geidi" if it pertains to Synergy invoices associated with the Geidi entity, especially payments made via Xero.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Synergy_Geidi  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Swoop_Yudi
    group: entity specific
    description: Handles supplier invoices or financial activity tied to Swoop or Yudi projects/entities.
    keywords: [swoop, yudi, zanovar]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Swoop_Yudi" if it contains invoices, project payments, or financial documents associated with Swoop/Yudi work.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Swoop_Yudi  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Swoop_Geidi
    group: entity specific
    description: Handles invoices or AP emails for Swoop services related to Geidi.
    keywords: [swoop, geidi, invoice]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Swoop_Geidi" if it includes Swoop invoices to be paid by Geidi or routed through Xero for approval or recording.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Swoop_Geidi  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Vodafone
    group: entity specific
    description: Handles Vodafone-specific invoices and payment updates directed to Accounts Payable.
    keywords: [vodafone, invoice, telecom]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Vodafone" if it relates to a Vodafone invoice, billing statement, or payment follow-up.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Vodafone  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Atlassian_JustaBaby
    group: entity specific
    description: Manages billing or subscription issues related to Atlassian products under Just a Baby.
    keywords: [atlassian, just a baby, invoice, jira]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Atlassian_JustaBaby" if it mentions Atlassian invoices, billing cycles, or subscriptions for the Just a Baby entity.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Atlassian_JustaBaby  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Atlassian_Geidi
    group: entity specific
    description: Handles Atlassian-related billing or invoice notices for the Geidi entity.
    keywords: [atlassian, geidi, jira, invoice]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Atlassian_Geidi" if the content relates to Atlassian invoices issued for Geidi, including payment receipts or billing records.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Atlassian_Geidi  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_SOA
    group: soa
    description: Statements of Account emails related to client balances, payment history, or reconciliations.
    keywords: [soa, statement of account, outstanding balance]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_SOA" if it refers to a Statement of Account (SOA), client balance summaries, reconciliations, or payment records.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_SOA  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Client_Dispute_Geidi
    group: client
    description: Client messages disputing invoice amounts or raising billing concerns related to Geidi.
    keywords: [dispute, wrong amount, incorrect invoice, overcharge, Geidi]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Client_Dispute_Geidi" if the client is raising a billing dispute involving Geidi, including disagreements on invoice value or charge legitimacy.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Client_Dispute_Geidi  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Client_Dispute_ASO
    group: client
    description: Client messages disputing invoice amounts or billing issues related to ASO.
    keywords: [dispute, wrong charge, billing error, ASO, incorrect amount]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Client_Dispute_ASO" if the client disputes an invoice or raises concerns related to ASO billing.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Client_Dispute_ASO  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Client_Receipt_Confirmation
    group: client
    description: Emails from clients confirming that they have received our invoice or receipt.
    keywords: [received, invoice received, thanks for the invoice, confirmation of receipt]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Client_Receipt_Confirmation" if the client acknowledges receipt of an invoice or billing communication.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Client_Receipt_Confirmation  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Client_Request_InvoiceCopy
    group: client
    description: Client requests for a duplicate or re-sent invoice copy.
    keywords: [resend invoice, copy of invoice, need invoice, send again]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Client_Request_InvoiceCopy" if the client asks for a copy of an invoice or billing document they already should have received.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Client_Request_InvoiceCopy  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Synergy_Zanovar
    group: entity specific
    description: Emails involving finance-related matters from the Synergy Zanovar entity (e.g., invoices, payments, reminders).
    keywords: [zanovar, synergy zanovar, invoice, payment, billing]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Synergy_Zanovar" if the email involves invoices or finance matters from the Synergy Zanovar entity.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Synergy_Zanovar  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Synergy_Geidi
    group: entity specific
    description: Emails involving finance-related matters from Synergy Geidi.
    keywords: [geidi, synergy geidi, invoice, payment, billing]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Synergy_Geidi" if it involves Geidi-related Synergy finance matters like invoicing or payments.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Synergy_Geidi  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Swoop_Yudi
    group: entity specific
    description: Finance communication related to Swoop's Yudi entity, such as invoices or usage reports.
    keywords: [yudi, swoop yudi, billing, invoice, usage]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Swoop_Yudi" if it's about invoices, payments, or usage reports from Swoop Yudi.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Swoop_Yudi  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Swoop_Geidi
    group: entity specific
    description: Finance-related emails from Swoop Geidi including invoices, balances, and payment matters.
    keywords: [geidi, swoop geidi, billing, payment, invoice]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Swoop_Geidi" if the email involves financial transactions from Swoop Geidi.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Swoop_Geidi  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Atlassian_JustaBaby
    group: entity specific
    description: Atlassian billing and invoice notices related to JustaBaby.
    keywords: [atlassian, justababy, invoice, subscription, billing]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Atlassian_JustaBaby" if it's from Atlassian regarding JustaBaby's subscriptions, invoices, or payments.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Atlassian_JustaBaby  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Atlassian_Geidi
    group: entity specific
    description: Atlassian invoices or payment notices associated with Geidi.
    keywords: [atlassian, geidi, subscription, billing, invoice]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Atlassian_Geidi" if it's about Atlassian billing matters for the Geidi entity.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Atlassian_Geidi  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Promotional_Relevant
    group: promotional
    description: Finance-related promotional emails that are relevant to current tools, services, or vendors used by the company.
    keywords: [promotion, offer, discount, pricing, service, finance]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Promotional_Relevant" if it contains relevant promotional or financial service offers.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Promotional_Relevant  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Promotional_Subscription
    group: promotional
    description: Subscription-based promotional emails or recurring subscription plans that may affect financials.
    keywords: [subscription, recurring, billing, plan, invoice, trial]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Promotional_Subscription" if it relates to paid subscription services or renewal offers.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Promotional_Subscription  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Approval_Notice
    group: finance
    description: Emails that indicate approval or authorization of financial items such as bills, budgets, or vendor payments.
    keywords: [approved, approval, authorized, finance, payment, PO]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Approval_Notice" if it communicates approval of financial matters like payments, POs, or budgets.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Approval_Notice  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Client_Payment_Info
    group: client
    description: Emails from clients providing payment information, such as remittance advice or confirmation of bank transfer.
    keywords: [payment made, remittance, paid, proof of payment, transferred, bank receipt]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Client_Payment_Info" if the client is informing that a payment has been made, sharing proof, or remittance information.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Client_Payment_Info  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Entity_Forward
    group: internal
    description: Internal emails where content needs to be forwarded to a specific entity for handling (e.g., finance, operations, etc.).
    keywords: [please forward, for your action, kindly route to, redirect to, pass this on, transfer to]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Entity_Forward" if it contains instructions or implicit intent to route or forward the message to a specific internal team, entity, or department for action.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Entity_Forward  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Internal_Requires_Action
    group: internal
    description: Internal email that explicitly requests a task, response, or follow-up. Often action-oriented or flagged with urgency.
    keywords: [please action, needs response, URGENT, ASAP, to be addressed, kindly assist]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Internal_Requires_Action" if it contains internal communication where the sender requests a task to be completed, an issue to be addressed, or a follow-up to be made.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Internal_Requires_Action  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Internal_No_Action
    group: internal
    description: Internal email that does not require further response or action—typically FYI, heads-up, or confirmation messages.
    keywords: [noted, for your info, FYI only, received with thanks, no action needed, just letting you know]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Internal_No_Action" if it is clearly informational only and does not require any reply, task, or follow-up.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Internal_No_Action  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Internal_From_Paul
    group: internal
    description: Internal email directly sent by Paul that is intended to be routed or flagged for storage in a Paul-specific folder.
    keywords: [paul, from paul, Paul has sent, please file under Paul]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Internal_From_Paul" if the sender is Paul or the email is explicitly related to him and should be filed or handled under his correspondence.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Internal_From_Paul  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Exceptional_Invoice
    group: finance
    description: Emails involving invoices that deviate from standard billing practices — such as split billing, unusual formats, or special handling instructions.
    keywords: [split invoice, combined invoice, special invoice format, manually created, exceptional]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Exceptional_Invoice" if it refers to invoices that are not standard in format, billing arrangement, or handling — including split, combined, or manually issued invoices.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Exceptional_Invoice  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Outsourced_Work_Invoice
    group: procurement & outsourcing
    description: Invoices from external vendors or contractors related to outsourced services or tasks.
    keywords: [outsourced, third-party invoice, external vendor, subcontractor, outside work]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Outsourced_Work_Invoice" if it includes or refers to invoices issued by external vendors, third-party contractors, or subcontractors for work delivered.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Outsourced_Work_Invoice  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Procurement_SOA
    group: soa
    description: Statements of Account sent by vendors in relation to procurement transactions.
    keywords: [statement of account, soa, monthly summary, vendor statement, procurement statement]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Procurement_SOA" if it refers to a vendor-issued Statement of Account (SOA) related to procurement, typically summarizing unpaid or billed items.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Procurement_SOA  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Procurement_Invoice
    group: procurement & outsourcing
    description: Standard invoices received from vendors related to procurement purchases.
    keywords: [supplier invoice, purchase invoice, procurement invoice, vendor bill]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Procurement_Invoice" if it includes or refers to a standard invoice from a vendor related to goods or services procured by the company.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Procurement_Invoice  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: System_Proofpoint
    group: system
    description: System-generated emails from Proofpoint or related security/filtering tools.
    keywords: [proofpoint, email filter, spam quarantine, security alert, threat report]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "System_Proofpoint" if it originates from the Proofpoint system or relates to email filtering, spam quarantine, or email security reports.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: System_Proofpoint  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Supplier_Summary_Report
    group: procurement & outsourcing
    description: Summary reports sent by suppliers, not formatted as invoices but used for reconciliation or review.
    keywords: [summary report, supplier summary, reconciliation, usage summary]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Supplier_Summary_Report" if it includes or references a summary report from a supplier, not an invoice, typically used for reconciliation or verification of charges.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Supplier_Summary_Report  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Rhipe_UsageReport
    group: soa
    description: Usage reports from Rhipe for software or cloud consumption (e.g., Microsoft, licensing).
    keywords: [rhipe, usage report, license usage, consumption summary, cloud usage]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Finance_Rhipe_UsageReport" if it includes a usage report from Rhipe or its associated services like Microsoft licensing, typically summarizing cloud consumption.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Finance_Rhipe_UsageReport  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Email_Failed_Delivery
    group: system
    description: Bounced or failed delivery notifications for outgoing or incoming emails.
    keywords: [undelivered, failed delivery, mailer-daemon, bounce back, delivery failed]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
      You are a classification agent. Classify this email as "Email_Failed_Delivery" if it notifies about a failed delivery attempt or bounce back for an email message.

      ⚠️ FORMAT CONSTRAINT:
      Return your response in **exactly one** of the following formats.
      Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

      1. Route: Email_Failed_Delivery  
         Reason: <brief justification>

      2. Route: Try Fallback Agent <One of: Finance_Overdue, Finance_Paid, Orders, Internal_Work, Billing_Issues>  
         Reason: <why it's better handled by another agent>

      3. Route: Needs Human Review  
         Reason: <why this email is ambiguous or unrelated>

      Your response must end with this exact line: ---END---

      Email Content:
      {email_content}

  - name: Finance_Remittance
    group: finance
    description: Remittance advice / proof-of-payment (POP), bank/EFT/TT receipts, payment confirmations.
    keywords: [remittance, remittance advice, proof of payment, pop, eft confirmation, bank transfer receipt, tt copy, deposit slip, payment sent, our remittance]
    default_confidence: 0.9
    use_llm: true
    prompt_template: |
     You are a classification agent. Classify this email as "Finance_Remittance" if it includes a remittance advice, proof of payment, or a bank/EFT/TT payment confirmation (receipt, POP, deposit slip).

     ⚠️ FORMAT CONSTRAINT:
     Return your response in **exactly one** of the following formats.
     Do not include emojis, extra words, or break formatting. Do not include any explanation outside the response.

     1. Route: Finance_Remittance
        Reason: <brief justification>

     2. Route: Try Fallback Agent <One of: Finance_Paid, Finance_Unpaid, Finance_Overdue>
        Reason: <why it's better handled by that agent (e.g., already paid vs. still unpaid/past due)>

     3. Route: Needs Human Review
        Reason: <why this email is ambiguous or unrelated>

     Your response must end with this exact line: ---END---

     Email Content:
     {email_content}
